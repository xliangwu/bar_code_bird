(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-415af4b4"],{"3c21":function(e,t,a){},"7dc0":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{style:{textAlign:"left",padding:"12px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",round:""},on:{click:e.downloadTemplate}},[e._v("下载模板")])],1),a("el-col",{attrs:{span:2.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",round:""},on:{click:e.exportData}},[e._v("下载全部数据")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-upload",round:""},on:{click:e.openUploadDialog}},[e._v("数据上传")])],1),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:10}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.keywordOption,callback:function(t){e.keywordOption=t},expression:"keywordOption"}},[a("el-option",{attrs:{label:"模板名称",value:"1"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"接单卡号",prop:"col1"}}),a("el-table-column",{attrs:{label:"SAP代码",prop:"col2"}}),a("el-table-column",{attrs:{label:"品名码",prop:"col3"}}),a("el-table-column",{attrs:{label:"产品名",prop:"col4",width:"400"}}),a("el-table-column",{attrs:{label:"规格",prop:"col5"}}),a("el-table-column",{attrs:{label:"数量",prop:"col6"}}),a("el-table-column",{attrs:{label:"纸箱编号",prop:"col7"}}),a("el-table-column",{attrs:{align:"center",prop:"createdTime",label:"最后更新时间",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{style:{paddingLeft:"4px"}},[e._v(e._s(t.row.createdTime))])]}}])})],1)],1)],1),e.total>0?a("el-row",{style:{textAlign:"right",padding:"6px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev,sizes,pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.pageIndex},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}})],1)],1):e._e(),a("el-dialog",{attrs:{title:"上传数据",visible:e.newDialogVisible,width:"35%","close-on-click-modal":!1},on:{"update:visible":function(t){e.newDialogVisible=t}}},[a("div",{style:{textAlign:"center"}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","http-request":e.uploadFile,"show-file-list":!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.xlsx/.xls文件，且不超过5M")])])],1)])],1)},l=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("b775")),i=a("bc3a"),s=a.n(i);function r(e){return Object(n["a"])({url:"/v1/customerStorage",method:"get",params:e})}function c(e){return s.a.get("/api/v1/data/downloadTemplate",{responseType:"blob",params:{sourceType:e}})}function d(e){return s.a.get("/api/v1/data/exportData",{responseType:"blob",params:{sourceType:e}})}function p(e,t,a){var o=new FormData;return o.append("file",e),o.append("sourceType",t),o.append("customerId",a),s.a.post("/api/v1/data/uploadTemplate",o)}var u=a("5c96"),g={data:function(){return{list:[],listLoading:!0,total:0,pageIndex:0,pageSize:10,keyword:"",keywordOption:"1",newDialogVisible:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0;var t={page:this.pageIndex,pageSize:this.pageSize};r(t).then((function(t){e.list=t.data.records,e.listLoading=!1,e.total=t.data.total}))},pageSizeChange:function(e){this.pageSize=e,console.log("pageSize:"+this.pageSize),this.fetchData()},pageChange:function(e){this.pageIndex=e,console.log("pageIndex:"+this.pageIndex),this.fetchData()},handleSearch:function(){console.log("search")},downloadTemplate:function(){c("s1").then((function(e){if(e){var t="模板",a=new Blob([e.data]);if(window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,t);else{var o=[];o.push(a);var l=window.URL.createObjectURL(new Blob(o)),n=document.createElement("a");n.style.display="none",n.href=l,n.setAttribute("download",t+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(l)}}}))},exportData:function(){d("s1").then((function(e){if(e){var t="产品信息表",a=new Blob([e.data]);if(window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,t);else{var o=[];o.push(a);var l=window.URL.createObjectURL(new Blob(o)),n=document.createElement("a");n.style.display="none",n.href=l,n.setAttribute("download",t+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(l)}}}))},openUploadDialog:function(){this.newDialogVisible=!0},uploadFile:function(e){var t=this,a=e.file;p(a,"s1",1).then((function(e){200!==e.status||0!==e.data.code?Object(u["Message"])({message:"上传数据失败",type:"error",center:!0,duration:3e3}):(Object(u["Message"])({message:"上传数据成功",type:"success",center:!0,duration:3e3}),t.newDialogVisible=!1,t.fetchData())}))}}},b=g,h=(a("96d1"),a("2877")),w=Object(h["a"])(b,o,l,!1,null,null,null);t["default"]=w.exports},"96d1":function(e,t,a){"use strict";a("3c21")}}]);